---

import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import MotorhomeList from '../components/MotorhomeList.astro';
import Footer from '../components/Footer.astro';
import { supabase } from '../lib/supabase';


const { data: motorhomes, error } = await supabase
    .from('motorhomes')
    .select('*');

if (error) console.error("Error fetching motorhomes:", error);
---
<Layout title="Sergio Mauro Motorhomes">
    <Header />
    <main class="flex-grow">
        <Hero />
        
        {motorhomes && <MotorhomeList motorhomes={motorhomes} />}
        
    </main>
    <Footer />
</Layout>